// =====================================
// MUSCLES & ANATOMY
// =====================================

model MuscleGroup {
  id          String   @id @default(cuid())
  name        String   @unique
  description String?
  isActive    Boolean  @default(true) @map("is_active")
  createdAt   DateTime @default(now()) @map("created_at")
  createdBy   String?  @map("created_by") // Allow null for system data

  // Relations
  createdByUser User?    @relation("MuscleGroupCreatedBy", fields: [createdBy], references: [id], map: "muscle_group_created_by_fkey")
  muscles       Muscle[]

  @@map("muscle_group")
}

model Muscle {
  id             String   @id @default(cuid())
  name           String
  scientificName String?  @map("scientific_name")
  muscleGroupId  String   @map("muscle_group_id")
  description    String?
  isActive       Boolean  @default(true) @map("is_active")
  createdAt      DateTime @default(now()) @map("created_at")
  createdBy      String?  @map("created_by") // Allow null for system data

  // Relations
  muscleGroup     MuscleGroup            @relation(fields: [muscleGroupId], references: [id], map: "muscle_muscle_group_fkey")
  createdByUser   User?                  @relation("MuscleCreatedBy", fields: [createdBy], references: [id], map: "muscle_created_by_fkey")
  exerciseTargets ExerciseMuscleTarget[]
  workoutTargets  WorkoutMuscleTarget[]
  workoutSets     WorkoutSet[]           @relation("WorkoutSetTargetMuscle")

  @@unique([name, muscleGroupId])
  @@map("muscle")
}
